<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesla & GameStop Stock Analysis Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">
        <h1>ðŸš€ Tesla & GameStop Stock Analysis Dashboard</h1>
        
        <div class="section">
            <h2>Question 1: Extracting Tesla Stock Data Using yfinance</h2>
            <div class="code-block">
# Import required libraries
import yfinance as yf
import pandas as pd
import matplotlib.pyplot as plt
import requests
from bs4 import BeautifulSoup
import warnings
warnings.filterwarnings('ignore')

# Extract Tesla stock data
tesla_ticker = yf.Ticker("TSLA")
tesla_data = tesla_ticker.history(period="max")
tesla_data.reset_index(inplace=True)
print("Tesla Stock Data Shape:", tesla_data.shape)
print("\nFirst 5 rows of Tesla stock data:")
print(tesla_data.head())
            </div>
            <div class="output-block" id="tesla-stock-output">
                <div class="loading">Loading Tesla stock data...</div>
            </div>
        </div>
        
        <div class="section">
            <h2>Question 2: Extracting Tesla Revenue Data Using Web Scraping</h2>
            <div class="code-block">
# Web scraping Tesla revenue data
url = "https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-PY0220EN-SkillsNetwork/labs/project/revenue.htm"
html_data = requests.get(url).text
soup = BeautifulSoup(html_data, 'html.parser')

# Extract Tesla revenue data
tesla_revenue = pd.DataFrame(columns=["Date", "Revenue"])
for row in soup.find_all("tbody")[0].find_all("tr"):
    col = row.find_all("td")
    if len(col) == 2:
        date = col[0].text
        revenue = col[1].text.replace("$", "").replace(",", "")
        tesla_revenue = tesla_revenue.append({"Date": date, "Revenue": revenue}, ignore_index=True)

tesla_revenue = tesla_revenue[tesla_revenue['Revenue'] != ""]
print("Tesla Revenue Data Shape:", tesla_revenue.shape)
print("\nFirst 5 rows of Tesla revenue data:")
print(tesla_revenue.head())
            </div>
            <div class="output-block" id="tesla-revenue-output">
                <div class="loading">Loading Tesla revenue data...</div>
            </div>
        </div>
        
        <div class="section">
            <h2>Question 3: Extracting GameStop Stock Data Using yfinance</h2>
            <div class="code-block">
# Extract GameStop stock data
gamestop_ticker = yf.Ticker("GME")
gamestop_data = gamestop_ticker.history(period="max")
gamestop_data.reset_index(inplace=True)
print("GameStop Stock Data Shape:", gamestop_data.shape)
print("\nFirst 5 rows of GameStop stock data:")
print(gamestop_data.head())
            </div>
            <div class="output-block" id="gamestop-stock-output">
                <div class="loading">Loading GameStop stock data...</div>
            </div>
        </div>
        
        <div class="section">
            <h2>Question 4: Extracting GameStop Revenue Data Using Web Scraping</h2>
            <div class="code-block">
# Web scraping GameStop revenue data
for row in soup.find_all("tbody")[1].find_all("tr"):
    col = row.find_all("td")
    if len(col) == 2:
        date = col[0].text
        revenue = col[1].text.replace("$", "").replace(",", "")
        gamestop_revenue = gamestop_revenue.append({"Date": date, "Revenue": revenue}, ignore_index=True)

gamestop_revenue = gamestop_revenue[gamestop_revenue['Revenue'] != ""]
print("GameStop Revenue Data Shape:", gamestop_revenue.shape)
print("\nFirst 5 rows of GameStop revenue data:")
print(gamestop_revenue.head())
            </div>
            <div class="output-block" id="gamestop-revenue-output">
                <div class="loading">Loading GameStop revenue data...</div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" onclick="generateDashboards()">Generate Dashboards</button>
            <button class="btn" onclick="exportData()">Export Data</button>
        </div>
        
        <div class="section">
            <h2>Question 5 & 6: Interactive Dashboards</h2>
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="chart-title">Tesla Stock Price vs Revenue</div>
                    <canvas id="teslaChart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">GameStop Stock Price vs Revenue</div>
                    <canvas id="gamestopChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>Data Summary Tables</h2>
            <div class="dashboard-grid">
                <div>
                    <h3>Tesla Recent Data</h3>
                    <table class="data-table" id="tesla-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Close Price</th>
                                <th>Volume</th>
                            </tr>
                        </thead>
                        <tbody id="tesla-tbody">
                        </tbody>
                    </table>
                </div>
                <div>
                    <h3>GameStop Recent Data</h3>
                    <table class="data-table" id="gamestop-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Close Price</th>
                                <th>Volume</th>
                            </tr>
                        </thead>
                        <tbody id="gamestop-tbody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
